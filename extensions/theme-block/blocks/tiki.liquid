<style>
@media (min-width: 390px){
    .tiki-offer-prompt {
        border-radius: 0.5em;
        box-shadow: 0 4px 4px rgba(0,0,0,.25);
        height: 36em;
        left: 50%;
        max-height: 90vh;
        width: 390px;
        position: fixed;
        top: 50%;
        transform: translate(-50%,-50%);
    }

    .tiki-text-btn {
        font-size: var(--tiki-font-size);
        line-height: var(--tiki-line-height);
    }
    body {
        font-size: 1.6rem;
    }
}
.tiki-terms-legal-md {
    text-align: justify;
    font-size: 0.75em;
}
.tiki-offer-card-img{
    width: 320px;
    height: 96px;
}
</style>
<script>
const TIKI_SETTINGS = {
    UI : {
        preview : "{{ block.settings.preview }}",
        primaryTextColor : "{{ block.settings.primaryTextColor }}",
        secondaryTextColor : "{{ block.settings.secondaryTextColor }}",
        primaryBackgroundColor : "{{ block.settings.primaryBackgroundColor }}",
        secondaryBackgroundColor : "{{ block.settings.secondaryBackgroundColor }}",
        accentColor : "{{ block.settings.accentColor }}",
        description : "{{ block.settings.description }}",
        offerImage : "{{ block.settings.offerImage | image_url }}",
        bullet1: { text: "discover online shopping trends", isUsed: true },
        bullet2: { text: "improve personalized advertising", isUsed: true },
        bullet3: { text: "contact you directly", isUsed: false },
        terms : "{{ block.settings.terms | replace: '"', '\"' }}"
    },
    discount: {{ app.metafields.mytiki.discount | default: undefined }},
    publishingId: "{{ app.metafields.mytiki.public_key_id }}",
    customerId : "{{ customer.id }}"
}
</script>
<script async src="{{ 'tiki_shopify.js' | asset_url }}"></script>
{% # theme-check-disable AssetSizeJavaScript %}
<script async src="https://unpkg.com/@mytiki/tiki-sdk-js@2.1.4/dist/index.js"></script>
{% # theme-check-enable AssetSizeJavaScript %}

{% schema %}
{
  "name": "TIKI",
  "target": "body",
  "settings": [
    { "type": "header", "content": "Banner Settings" },
    { "type": "checkbox", "id": "preview", "label": "Preview Banner", "default": false },
    { "type": "color", "id": "primaryTextColor", "label": "PrimaryTextColor", "default": "#1C0000" },
    { "type": "color", "id": "secondaryTextColor", "label": "SecondaryTextColor", "default": "#00001C" },
    { "type": "color", "id": "primaryBackgroundColor", "label": "PrimaryBackgroundColor", "default": "#FFFFFF" },
    { "type": "color", "id": "secondaryBackgroundColor", "label": "SecondaryBackgroundColor", "default": "#F6F6F6" },
    { "type": "color", "id": "accentColor", "label": "AccentColor", "default": "#00b272" },
    { "type": "header", "content": "Offer Settings"  },
    { "type": "text", "id": "description", "label": "Description", "default": "desc", "info":"Small text to add user-friendly details to the Offer. We recommend including details like the type of data the user is trading and participation requirements (like 10% off your next purchase of $10 or more)." },
    { "type": "image_picker", "id": "offerImage", "label": "Offer image", "info":"A 300 x 86 resolution image that ilustrates the offer. We've elected to make this portion of the UI an image so you can get as fancy/detailed as you'd like. We strongly recommend the image to be compelling, easy to understand, and focused on the incentive for the user to participate (hence, why it's called the reward image). The reward always goes hand in hand with the text Description (like a caption), so avoid over crowding it with too much text." },
    { "type": "richtext", "id": "terms", "label": "Terms", "default": "<p></p>", "info":"The terms and conditions URL for this offer agreement. It should be a URL to a plain text file containing the legal conditions. This file can include simple markdown format." }
  ]
}
{% endschema %}

